!function(a){a.fn.text2slug=function(b){function d(a){a=a.replace(/^\s+|\s+$/g,""),a=a.toLowerCase(),console.log(a);for(var b="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",d="aaaaeeeeiiiioooouuuunc------",e=0,f=b.length;e<f;e++)a=a.replace(new RegExp(b.charAt(e),"g"),d.charAt(e)),console.log(a);return a=a.replace(/[\^!@&\/\\#,+()$~%.'":*?<>{}]/g,""),a=a.replace(/[^a-z0-9 -]/g,"").replace(/[^a-z0-9 -][fixpersian]/g,"").replace(/\s+/g,c.separator).replace("/"+c.seperator+"+/g",c.separator)}function f(b){val=d(b.val()),a("input:hidden#slug-hidden").val(val).blur(),a("#slug-display"+e).html(val)}var c=a.extend({slug_color:"#4E8451",input_name:"slug",output_format:"form",separator:"-",specialchars:{}},b),e=Math.floor(1e3*Math.random()+1);if(this.on("keyup",function(){f(a(this))}),"form"==c.output_format)a("<input />",{id:"slug-hidden",type:"hidden",name:c.input_name,class:"slug-hidden"}).insertAfter(this),a("<span id='slug-display"+e+"' class='slug-display'></span>").insertAfter(this),f(a(this));else if("form"==c.output_format)return f(a(this)),val;return this.css("color",c.slug_color),this}}(jQuery);